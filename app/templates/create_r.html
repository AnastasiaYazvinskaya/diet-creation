{% extends 'base.html' %}
{% block script %}
<script src="static/js/script.js"></script>
{% endblock %}
{% block content %}
<h1>{% block title %} Create a New recipe {% endblock %}</h1>

<form method="post">
    <div class="form-group">
        <label for="r_name">Name</label>
        <input type="text" name="r_name"
            placeholder="Recipe name" class="form-control"
            {% if data %}
                value="{{data[0]}}"
            {% endif %}></input>
    </div>

    <div class="form-group">
        <label for="type">Type</label>
        <input list="types" name="type" class="form-control" placeholder="Завтрак/Обед/Ужин/Напиток/другое"
            {% if data %}
                value="{{data[1]}}"
            {% endif %}></input>
        <datalist id="types">
            {% for type in types %}
                <option value="{{type['type']}}"></option>
            {% endfor %}
        </datalist>
    </div>

    <h5>Ingredients:</h5>

    <div class="form-group">
        <label for="name_0">Name</label>
        <input list="products" name="name_0" class="form-control" placeholder="1 product name" id="product" value="{{ request.form['name_0'] }}"></input>
        <datalist id="products">
            {% for product in prods %}
                <option value="{{product['name']}} [{{product['shop']}}]"></option>
            {% endfor %}
        </datalist>
        
        <label for="weight_0">Weight (gram)</label>
        <input type="number" name="weight_0"
            placeholder="0.00" class="form-control" value="{{ request.form['weight_0'] }}"></input>
    </div>

    <div id="ingredientAdd"></div>

    <div class="form-group">
        <button id="add" type="button" class="btn btn-secondary">Add ingredient</button>
    </div>

    <div class="form-group">
        <label for="descr">Description</label>
        <textarea name="descr" placeholder="Recipe description"
            class="form-control"
            {% if data %}
                value="{{data[2]}}"
            {% endif %}></textarea>
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-primary">Submit</button>
    </div>

</form>
{% endblock %}